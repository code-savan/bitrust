<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <link rel="icon" href="../../assets/images/favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="../../assets/css/font-awesome.min.css">
    <link rel="stylesheet" href="../../assets/css/style.min.css">
    <link href='https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&amp;family=Public+Sans:wght@500;600;700;800&amp;display=swap' rel='stylesheet'>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="../../assets/css/datatables.min.css">
    <link rel="stylesheet" href="../../assets/css/tiny-slider.css">
    <link rel="stylesheet" href="../../assets/css/toastr.css" />
    <script src="../../assets/js/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
        const SUPABASE_URL = "https://kyedlygmqhupslfefjqx.supabase.co";
        const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt5ZWRseWdtcWh1cHNsZmVmanF4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk2Mjc4MjIsImV4cCI6MjA1NTIwMzgyMn0.S4272Z5J5dEf8_UUbunLhSt03LqKww5RqSV8LzDTISQ";
        const supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

        async function loadUserData() {
            const { data: { user } } = await supabaseClient.auth.getUser();
            if (!user) {
                window.location.href = 'signin.html';
                return;
            }

            const { data, error } = await supabaseClient
                .from('profiles')
                .select('*')
                .eq('email', user.email)
                .single();

            if (error) {
                console.error('Error loading user data:', error);
                return;
            }

            // Populate the profile fields with fetched data
            document.getElementById('fullname').value = data.name;
            document.getElementById('email').value = data.email;
            document.getElementById('phone').value = data.phone_number;
            document.getElementById('userID').value = data.id;
            document.getElementById('country').value = data.country;

            document.getElementById('available_balance').textContent = `$${data.available_balance.toFixed(2)}` || '0.00';
            document.getElementById('profit_balance').textContent = `$${data.profit_balance.toFixed(2)}` || '0.00';
            document.getElementById('total_balance').textContent = `$${data.total_balance.toFixed(2)}` || '0.00';


            // Populate Bonus Balances
            document.getElementById('bonus_balance').textContent = `$${data.bonus_balance.toFixed(2)}` || '0.00';

            // Populate Pending Withdrawal
            document.getElementById('pending_withdrawal').textContent = `$${data.pending_withdrawal.toFixed(2)}` || '0.00';


            document.getElementById('account_type').textContent = data.account_type || 'Loading...';
            document.getElementById('account_status').textContent = data.account_status || 'Loading...';
            document.getElementById('email_verification').textContent = data.email_verified || 'Loading...';
            document.getElementById('kyc_status').textContent = data.kyc_status || 'Loading...';
            document.getElementById('level').textContent = data.level || 'Loading...';
        }

        loadUserData();
    </script>
</head>
<style>
    body {
        font-family: 'Inter' !important;
        /* font-size: 13.8px; */
    }

    button.btn {
        border-radius: 8px !important;
    }

    .pos {
        z-index: 100;
        position: fixed !important;
        top: 48px;
        width: 100% !important;
    }

    .tns-nav {
        display: none;
    }

    .circ {
        height: 70px;
        width: 70px;
        background: rgb(59, 155, 196);
        overflow: hidden;
        border-radius: 50%;
    }

    .img-sc {
        display: block;
        width: 100%;
        height: 100%;
    }

    .cent {
        display: flex;
        justify-content: center;
        align-items: center;
    }
</style>

<body class="" data-mdb-theme="light">
   <header>
        <div id="sidenav-1" class="sidenav" role="navigation" data-mdb-close-on-esc="true" data-mdb-position="fixed" data-mdb-hidden="true" data-mdb-mode="side" style="overflow-y: auto;" data-mdb-slim="false" data-mdb-slim-collapsed="true" data-mdb-content="#content" data-mdb-focus-trap="true">
            <ul class="sidenav-menu mt-5">
                <li class="sidenav-item text-center border-bottom border-2 my-3">
                    <div class="cent">
                        <div class="circ">
                            <img src="../../assets/images/user/3423512.jpg" class="img-fluid img-sc">
                        </div>
                    </div>
                    <h6 class="fw-bold mt-3 mb-1"> Oseji Marvellous</h6>
                    <p class="small mb-0">Codesavan</p>
                    <span class="">Basic Account <i class="material-icons" style="font-size: 0.89em;">star</i>
                    </span>
                </li>
                <li class="sidenav-item">
                    <a class="sidenav-link" href="./dashboard.html">
                        <i class="material-icons me-2" style="font-size: 0.99em;">dashboard</i><span> Home</span>
                    </a>
                </li>
                <li class="sidenav-item">
                    <a class="sidenav-link" href="./market.html">
                        <i class="fas fa-chart-line me-2"></i><span> Markets</span>
                    </a>
                </li>
                <li class="sidenav-item">
                    <a class="sidenav-link" href="./trades.html">
                        <i class="fas fa-chart-bar me-2"></i><span> My trades</span>
                    </a>
                </li>
                <li class="sidenav-item">
                    <a class="sidenav-link" href="./deposit.html">
                        <i class="fas fa-sign-in-alt me-2"></i><span> Deposit</span>
                    </a>
                </li>
                <li class="sidenav-item">
                    <a class="sidenav-link" href="./loan.html">
                        <i class="fas fa-piggy-bank me-2"></i><span> Take Loan</span>
                    </a>
                </li>
                <li class="sidenav-item">
                    <a class="sidenav-link" href="./nfts.html">
                        <i class="fas fa-image me-2"></i><span> Buy NFTs</span>
                    </a>
                </li>
                <li class="sidenav-item">
                    <a class="sidenav-link" href="./create-nft.html">
                        <i class="fas fa-user me-2"></i><span> Create NFTs</span>
                    </a>
                </li>
                <li class="sidenav-item">
                    <a class="sidenav-link" href="./upgrade.html">
                        <i class="fas fa-cubes me-2"></i><span> Upgrade Plan</span>
                    </a>
                </li>
                <li class="sidenav-item">
                    <a class="sidenav-link" href="./transactions.html">
                        <i class="fas fa-calendar-alt me-2"></i><span> All Transactions</span>
                    </a>
                </li>
                <li class="sidenav-item">
                    <a class="sidenav-link" href="./traders.html">
                        <i class="fas fa-user-tie me-2"></i><span> Copy Traders</span>
                    </a>
                </li>
                <li class="sidenav-item">
                    <a class="sidenav-link" href="./withdrawal.html">
                        <i class="fas fa-wallet me-2"></i><span> Withdrawal</span>
                    </a>
                </li>
                <li class="sidenav-item mb-1">
                    <a class="sidenav-link" href="./verification.html">
                        <i class="fas fa-users me-2"></i><span> Verification</span>
                    </a>
                </li>
                <li class="sidenav-item">
                    <a class="sidenav-link" href="./profile.html">
                        <i class="fas fa-cogs me-2"></i><span> User settings</span>
                    </a>
                </li>
                <li class="sidenav-item mb-1">
                    <a class="sidenav-link" href="./logout">
                        <i class="fas fa-power-off me-2"></i><span> Sign out</span>
                    </a>
                </li>
                <li class="sidenav-item justify-content-center align-items-center d-flex">
                    <i class="fas fa-sun"></i>
                    <div class="ms-2 form-check form-switch">
                        <input class="form-check-input" type="checkbox" role="switch" id="themingSwitcher" />
                    </div>
                    <i class="fas fa-moon"></i>
                </li>
            </ul>
            <div class="sidenav-footer mt-5">
                <p class="text-center">&copy; 2025 BitTrust</p>
            </div>
        </div>
        <!-- Sidenav -->
        <!-- Navbar -->
        <nav id="main-navbar" class="navbar bg-body-tertiary navbar-expand-lg fixed-top">
            <div class="container-fluid">
                <a onclick="slimInstance.show()" class="nav-link me-3" data-mdb-content="#slim-content" aria-haspopup="true">
                    <i class="fas fa-bars" style="cursor: pointer;"></i>
                    <a href="./" class="navbar-brand">
                        <img src="../../assets/images/logo-dark.png" id="navbar-brand" class="img-fluid" width="89" />
                    </a>
                </a>
                <ul class="navbar-nav ms-auto d-flex flex-row align-items-center">
                    <li class="nav-item me-3">
                                            </li>
                    <li class="nav-item me-3">
                        <a onclick="$('#langmodal').modal('show');" style="cursor: pointer;" class="nav-link"> <i class="fas fa-language"></i></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./notifications.html">
                            <i class="fas fa-bell"></i>
                            <span class="position-relative top-10 translate-middle badge rounded-pill badge-primary">0<span class="visually-hidden">unread messages</span>
                        </a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="dropdown-toggle d-flex align-items-center" id="navbarDropdownMenuAvatar" data-mdb-toggle="dropdown" role="button" aria-expanded="false" href="#">
                            <img class="rounded-circle" height="25" src="../../assets/images/user/3423512.jpg" loading="lazy" />
                        </a>
                        <ul class="dropdown-menu dropdown-menu-right dropdown-menu-end" aria-labelledby="navbarDropdownMenuAvatar">
                            <li>
                                <a class="dropdown-item" href="./profile.html">My profile</a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="./logout">Logout</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </nav>
    </header>
    <!--Main layout-->
    <div class="pos">
        <div class="tradingview-widget-container">
            <div class="tradingview-widget-container__widget"></div>
            <div class="tradingview-widget-copyright"></div>
            <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js" async>
                {
                    "symbols": [{
                            "proName": "FOREXCOM:SPXUSD",
                            "title": "S&P 500"
                        },
                        {
                            "proName": "FOREXCOM:NSXUSD",
                            "title": "US 100"
                        },
                        {
                            "proName": "FX_IDC:EURUSD",
                            "title": "EUR/USD"
                        },
                        {
                            "proName": "BITSTAMP:BTCUSD",
                            "title": "Bitcoin"
                        },
                        {
                            "proName": "BITSTAMP:ETHUSD",
                            "title": "Ethereum"
                        },
                        {
                            "description": "Binance Smart Chain",
                            "proName": "BINANCE:BNBUSDT"
                        },
                        {
                            "description": "Luna",
                            "proName": "BINANCE:LUNAUSDT"
                        },
                        {
                            "description": "Gold",
                            "proName": "CURRENCYCOM:GOLD"
                        },
                        {
                            "description": "Gasoline",
                            "proName": "PEPPERSTONE:GASOLINE"
                        },
                        {
                            "description": "Aptos",
                            "proName": "BINANCE:APTUSDT"
                        },
                        {
                            "description": "Crude oil",
                            "proName": "CURRENCYCOM:OIL_CRUDE"
                        },
                        {
                            "description": "Solana",
                            "proName": "BINANCE:SOLUSDT"
                        },
                        {
                            "description": "Polygon Matic",
                            "proName": "BINANCE:MATICUSDT"
                        },
                        {
                            "description": "Shiba Inu",
                            "proName": "BINANCE:SHIBUSDT"
                        },
                        {
                            "description": "Cardano",
                            "proName": "BINANCE:ADAUSDT"
                        }
                    ],
                    "showSymbolLogo": true,
                    "colorTheme": "dark",
                    "isTransparent": false,
                    "displayMode": "adaptive",
                    "locale": "en"
                }
            </script>
        </div>
    </div>
<title>My Account</title>
<main class="pt-5 mt-5" id="content">
    <div class="container pt-5">
        <div class="alert alert-primary mb-3">
            <h5>Account settings</h5>
            <p class="small">Edit account details</p>
        </div>
        <div class="p-3 col-md-9 me-auto ms-auto">
            <h6 class="text-center ">Referral Link</h6>
            <div class="form-outline d-flex">
                <input class="form-control" type="text" id="reflink" readonly="" name="reflink" placeholder="https://www.elitestockoptions.com/signup?ref=Codesavan" value="https://www.elitestockoptions.com/signup?ref=Codesavan">
                <span class='fas fa-clipboard text-white p-2 bg-primary' style='border-radius: 5px; cursor:pointer;' id='copy'></span>
            </div>
        </div>
        <div class="row mb-3">
            <div class="col-lg-6 col-md-12 mb-3">
                <div class="card border border-1 border-primary">
                    <div class="card-body">
                        <h5 class="text-start">Change Profile Photo</h5>
                        <div class="text-center mb-3 cent">
                            <div class="circ">
                                <img id="imgPreview" src="../../assets/images/user/3423512.jpg" alt="" class="img-fluid img-sc">
                            </div>
                        </div>
                        <form class="" id="updatephoto" enctype="multipart/form-data">
                            <div class="form-outline mb-3">
                                <i class="far text-primary fa-image trailing"></i>
                                <input type="file" id="photo" required="" name="photo" class="form-control form-icon-trailing">
                                <!-- <label for="photo" class="form-label">Image</label> -->
                            </div>
                            <p class="alert alert-primary my-2 text-center" id="errorphoto"></p>
                            <div class="d-flex justify-content-center align-items-center mb-3">
                                <div class="text-center me-3">
                                    <button type="submit" id="btnEdit" class="btn btn-md btn-primary">Upload</button>
                                </div>
                                <div class="text-center">
                                    <button type="reset" onclick="resetPhoto()" class="btn btn-md btn-danger">Reset</button>
                                </div>
                            </div>
                            <p class="small text-center">Allowed JPG, GIF, HEIC or PNG. Max size of 2MB</p>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col-md-12 col-lg-6">
                <div class="card border border-1 border-primary">
                    <div class="card-body">
                        <h4 class="font-weight-bold">Balances</h4>
                        <hr>
                        <p class="h6"><b>Total Balance:</b> <span id="total_balance"></span></p>
                        <hr>
                        <p class="h6"><b>Available Balance:</b> <span id="available_balance"></span></p>
                        <hr>
                        <p class="h6"><b>Profit Balance:</b> <span id="profit_balance"></span></p>
                        <hr>
                        <p class="h6"><b>Bonus Balance:</b> <span id="bonus_balance"></span></p>
                        <hr>
                        <p class="h6"><b>Pending Withdrawal:</b> <span id="pending_withdrawal"></span></p>
                        <hr>
                        <div class="text-center">
                            <button type="reset" onclick="$('#swapModal').modal('show')" class="btn btn-md btn-primary">Swap Balance</button>
                        </div>

                    </div>
                </div>
            </div>
        </div>
        <div class="row mb-3">
            <div class="col-lg-6 col-md-12 mb-3">
                <div class="card border border-1 border-primary">
                    <div class="card-body">
                        <h5 class="text-start">Personal details</h5>
                        <p class="grey-text text-left mt-1">Fill the form to edit your profile </p>
                        <form class="" id="editprofile" enctype="multipart/form-data">
                            <div class="form-outline mb-3">
                                <i class="far text-primary fa-user-plus trailing"></i>
                                <input type="text" disabled value="3423512" id="userID" required="" name="mem_id" class="form-control form-icon-trailing">
                                <label for="mem_id" class="form-label">User id</label>
                            </div>
                            <div class="form-outline mb-3">
                                <i class="far text-primary fa-user trailing"></i>
                                <input type="text" value="" id="fullname" required="" name="fullname" class="form-control form-icon-trailing">
                                <label for="fullname" class="form-label">Full name</label>
                            </div>
                            <div class="form-outline mb-3">
                                <i class="far text-primary fa-envelope trailing"></i>
                                <input type="email" value="" id="email" required="" name="email" class="form-control form-icon-trailing">
                                <label for="email" class="form-label">Email Address</label>
                            </div>
                            <div class="form-outline mb-3">
                                <i class="fas text-primary fa-phone-square trailing"></i>
                                <input type="text" id="phone" required="" value="" name="phone" class="form-control form-icon-trailing">
                                <label for="phone" class="form-label">Phone Number</label>
                            </div>
                            <div class="form-group mb-3">
                                <select class="select" name="country" id="country" required="" data-mdb-filter="true">
                                    <option disabled selected>--Select Country--</option>
                                                                            <option  value="Afghanistan">Afghanistan</option>
                                                                            <option  value="Albania">Albania</option>
                                                                            <option  value="Algeria">Algeria</option>
                                                                            <option  value="American Samoa">American Samoa</option>
                                                                            <option  value="Andorra">Andorra</option>
                                                                            <option  value="Angola">Angola</option>
                                                                            <option  value="Anguilla">Anguilla</option>
                                                                            <option  value="Antarctica">Antarctica</option>
                                                                            <option  value="Antigua and Barbuda">Antigua and Barbuda</option>
                                                                            <option  value="Argentina">Argentina</option>
                                                                            <option  value="Armenia">Armenia</option>
                                                                            <option  value="Aruba">Aruba</option>
                                                                            <option  value="Australia">Australia</option>
                                                                            <option  value="Austria">Austria</option>
                                                                            <option  value="Azerbaijan">Azerbaijan</option>
                                                                            <option  value="Bahamas">Bahamas</option>
                                                                            <option  value="Bahrain">Bahrain</option>
                                                                            <option  value="Bangladesh">Bangladesh</option>
                                                                            <option  value="Barbados">Barbados</option>
                                                                            <option  value="Belarus">Belarus</option>
                                                                            <option  value="Belgium">Belgium</option>
                                                                            <option  value="Belize">Belize</option>
                                                                            <option  value="Benin">Benin</option>
                                                                            <option  value="Bermuda">Bermuda</option>
                                                                            <option  value="Bhutan">Bhutan</option>
                                                                            <option  value="Bolivia">Bolivia</option>
                                                                            <option  value="Bosnia and Herzegovina">Bosnia and Herzegovina</option>
                                                                            <option  value="Botswana">Botswana</option>
                                                                            <option  value="Bouvet Island">Bouvet Island</option>
                                                                            <option  value="Brazil">Brazil</option>
                                                                            <option  value="British Indian Ocean Territory">British Indian Ocean Territory</option>
                                                                            <option  value="Brunei Darussalam">Brunei Darussalam</option>
                                                                            <option  value="Bulgaria">Bulgaria</option>
                                                                            <option  value="Burkina Faso">Burkina Faso</option>
                                                                            <option  value="Burundi">Burundi</option>
                                                                            <option  value="Cambodia">Cambodia</option>
                                                                            <option  value="Cameroon">Cameroon</option>
                                                                            <option  value="Canada">Canada</option>
                                                                            <option  value="Cape Verde">Cape Verde</option>
                                                                            <option  value="Cayman Islands">Cayman Islands</option>
                                                                            <option  value="Central African Republic">Central African Republic</option>
                                                                            <option  value="Chad">Chad</option>
                                                                            <option  value="Chile">Chile</option>
                                                                            <option  value="China">China</option>
                                                                            <option  value="Christmas Island">Christmas Island</option>
                                                                            <option  value="Cocos (Keeling) Islands">Cocos (Keeling) Islands</option>
                                                                            <option  value="Colombia">Colombia</option>
                                                                            <option  value="Comoros">Comoros</option>
                                                                            <option  value="Democratic Republic of the Congo">Democratic Republic of the Congo</option>
                                                                            <option  value="Republic of Congo">Republic of Congo</option>
                                                                            <option  value="Cook Islands">Cook Islands</option>
                                                                            <option  value="Costa Rica">Costa Rica</option>
                                                                            <option  value="Croatia (Hrvatska)">Croatia (Hrvatska)</option>
                                                                            <option  value="Cuba">Cuba</option>
                                                                            <option  value="Cyprus">Cyprus</option>
                                                                            <option  value="Czech Republic">Czech Republic</option>
                                                                            <option  value="Denmark">Denmark</option>
                                                                            <option  value="Djibouti">Djibouti</option>
                                                                            <option  value="Dominica">Dominica</option>
                                                                            <option  value="Dominican Republic">Dominican Republic</option>
                                                                            <option  value="East Timor">East Timor</option>
                                                                            <option  value="Ecuador">Ecuador</option>
                                                                            <option  value="Egypt">Egypt</option>
                                                                            <option  value="El Salvador">El Salvador</option>
                                                                            <option  value="Equatorial Guinea">Equatorial Guinea</option>
                                                                            <option  value="Eritrea">Eritrea</option>
                                                                            <option  value="Estonia">Estonia</option>
                                                                            <option  value="Ethiopia">Ethiopia</option>
                                                                            <option  value="Falkland Islands (Malvinas)">Falkland Islands (Malvinas)</option>
                                                                            <option  value="Faroe Islands">Faroe Islands</option>
                                                                            <option  value="Fiji">Fiji</option>
                                                                            <option  value="Finland">Finland</option>
                                                                            <option  value="France">France</option>
                                                                            <option  value="France, Metropolitan">France, Metropolitan</option>
                                                                            <option  value="French Guiana">French Guiana</option>
                                                                            <option  value="French Polynesia">French Polynesia</option>
                                                                            <option  value="French Southern Territories">French Southern Territories</option>
                                                                            <option  value="Gabon">Gabon</option>
                                                                            <option  value="Gambia">Gambia</option>
                                                                            <option  value="Georgia">Georgia</option>
                                                                            <option  value="Germany">Germany</option>
                                                                            <option  value="Ghana">Ghana</option>
                                                                            <option  value="Gibraltar">Gibraltar</option>
                                                                            <option  value="Guernsey">Guernsey</option>
                                                                            <option  value="Greece">Greece</option>
                                                                            <option  value="Greenland">Greenland</option>
                                                                            <option  value="Grenada">Grenada</option>
                                                                            <option  value="Guadeloupe">Guadeloupe</option>
                                                                            <option  value="Guam">Guam</option>
                                                                            <option  value="Guatemala">Guatemala</option>
                                                                            <option  value="Guinea">Guinea</option>
                                                                            <option  value="Guinea-Bissau">Guinea-Bissau</option>
                                                                            <option  value="Guyana">Guyana</option>
                                                                            <option  value="Haiti">Haiti</option>
                                                                            <option  value="Heard and Mc Donald Islands">Heard and Mc Donald Islands</option>
                                                                            <option  value="Honduras">Honduras</option>
                                                                            <option  value="Hong Kong">Hong Kong</option>
                                                                            <option  value="Hungary">Hungary</option>
                                                                            <option  value="Iceland">Iceland</option>
                                                                            <option  value="India">India</option>
                                                                            <option  value="Isle of Man">Isle of Man</option>
                                                                            <option  value="Indonesia">Indonesia</option>
                                                                            <option  value="Iran (Islamic Republic of)">Iran (Islamic Republic of)</option>
                                                                            <option  value="Iraq">Iraq</option>
                                                                            <option  value="Ireland">Ireland</option>
                                                                            <option  value="Israel">Israel</option>
                                                                            <option  value="Italy">Italy</option>
                                                                            <option  value="Ivory Coast">Ivory Coast</option>
                                                                            <option  value="Jersey">Jersey</option>
                                                                            <option  value="Jamaica">Jamaica</option>
                                                                            <option  value="Japan">Japan</option>
                                                                            <option  value="Jordan">Jordan</option>
                                                                            <option  value="Kazakhstan">Kazakhstan</option>
                                                                            <option  value="Kenya">Kenya</option>
                                                                            <option  value="Kiribati">Kiribati</option>
                                                                            <option  value="Korea, Democratic People's Republic of">Korea, Democratic People's Republic of</option>
                                                                            <option  value="Korea, Republic of">Korea, Republic of</option>
                                                                            <option  value="Kosovo">Kosovo</option>
                                                                            <option  value="Kuwait">Kuwait</option>
                                                                            <option  value="Kyrgyzstan">Kyrgyzstan</option>
                                                                            <option  value="Lao People's Democratic Republic">Lao People's Democratic Republic</option>
                                                                            <option  value="Latvia">Latvia</option>
                                                                            <option  value="Lebanon">Lebanon</option>
                                                                            <option  value="Lesotho">Lesotho</option>
                                                                            <option  value="Liberia">Liberia</option>
                                                                            <option  value="Libyan Arab Jamahiriya">Libyan Arab Jamahiriya</option>
                                                                            <option  value="Liechtenstein">Liechtenstein</option>
                                                                            <option  value="Lithuania">Lithuania</option>
                                                                            <option  value="Luxembourg">Luxembourg</option>
                                                                            <option  value="Macau">Macau</option>
                                                                            <option  value="North Macedonia">North Macedonia</option>
                                                                            <option  value="Madagascar">Madagascar</option>
                                                                            <option  value="Malawi">Malawi</option>
                                                                            <option  value="Malaysia">Malaysia</option>
                                                                            <option  value="Maldives">Maldives</option>
                                                                            <option  value="Mali">Mali</option>
                                                                            <option  value="Malta">Malta</option>
                                                                            <option  value="Marshall Islands">Marshall Islands</option>
                                                                            <option  value="Martinique">Martinique</option>
                                                                            <option  value="Mauritania">Mauritania</option>
                                                                            <option  value="Mauritius">Mauritius</option>
                                                                            <option  value="Mayotte">Mayotte</option>
                                                                            <option  value="Mexico">Mexico</option>
                                                                            <option  value="Micronesia, Federated States of">Micronesia, Federated States of</option>
                                                                            <option  value="Moldova, Republic of">Moldova, Republic of</option>
                                                                            <option  value="Monaco">Monaco</option>
                                                                            <option  value="Mongolia">Mongolia</option>
                                                                            <option  value="Montenegro">Montenegro</option>
                                                                            <option  value="Montserrat">Montserrat</option>
                                                                            <option  value="Morocco">Morocco</option>
                                                                            <option  value="Mozambique">Mozambique</option>
                                                                            <option  value="Myanmar">Myanmar</option>
                                                                            <option  value="Namibia">Namibia</option>
                                                                            <option  value="Nauru">Nauru</option>
                                                                            <option  value="Nepal">Nepal</option>
                                                                            <option  value="Netherlands">Netherlands</option>
                                                                            <option  value="Netherlands Antilles">Netherlands Antilles</option>
                                                                            <option  value="New Caledonia">New Caledonia</option>
                                                                            <option  value="New Zealand">New Zealand</option>
                                                                            <option  value="Nicaragua">Nicaragua</option>
                                                                            <option  value="Niger">Niger</option>
                                                                            <option selected value="Nigeria">Nigeria</option>
                                                                            <option  value="Niue">Niue</option>
                                                                            <option  value="Norfolk Island">Norfolk Island</option>
                                                                            <option  value="Northern Mariana Islands">Northern Mariana Islands</option>
                                                                            <option  value="Norway">Norway</option>
                                                                            <option  value="Oman">Oman</option>
                                                                            <option  value="Pakistan">Pakistan</option>
                                                                            <option  value="Palau">Palau</option>
                                                                            <option  value="Palestine">Palestine</option>
                                                                            <option  value="Panama">Panama</option>
                                                                            <option  value="Papua New Guinea">Papua New Guinea</option>
                                                                            <option  value="Paraguay">Paraguay</option>
                                                                            <option  value="Peru">Peru</option>
                                                                            <option  value="Philippines">Philippines</option>
                                                                            <option  value="Pitcairn">Pitcairn</option>
                                                                            <option  value="Poland">Poland</option>
                                                                            <option  value="Portugal">Portugal</option>
                                                                            <option  value="Puerto Rico">Puerto Rico</option>
                                                                            <option  value="Qatar">Qatar</option>
                                                                            <option  value="Reunion">Reunion</option>
                                                                            <option  value="Romania">Romania</option>
                                                                            <option  value="Russian Federation">Russian Federation</option>
                                                                            <option  value="Rwanda">Rwanda</option>
                                                                            <option  value="Saint Kitts and Nevis">Saint Kitts and Nevis</option>
                                                                            <option  value="Saint Lucia">Saint Lucia</option>
                                                                            <option  value="Saint Vincent and the Grenadines">Saint Vincent and the Grenadines</option>
                                                                            <option  value="Samoa">Samoa</option>
                                                                            <option  value="San Marino">San Marino</option>
                                                                            <option  value="Sao Tome and Principe">Sao Tome and Principe</option>
                                                                            <option  value="Saudi Arabia">Saudi Arabia</option>
                                                                            <option  value="Senegal">Senegal</option>
                                                                            <option  value="Serbia">Serbia</option>
                                                                            <option  value="Seychelles">Seychelles</option>
                                                                            <option  value="Sierra Leone">Sierra Leone</option>
                                                                            <option  value="Singapore">Singapore</option>
                                                                            <option  value="Slovakia">Slovakia</option>
                                                                            <option  value="Slovenia">Slovenia</option>
                                                                            <option  value="Solomon Islands">Solomon Islands</option>
                                                                            <option  value="Somalia">Somalia</option>
                                                                            <option  value="South Africa">South Africa</option>
                                                                            <option  value="South Georgia South Sandwich Islands">South Georgia South Sandwich Islands</option>
                                                                            <option  value="South Sudan">South Sudan</option>
                                                                            <option  value="Spain">Spain</option>
                                                                            <option  value="Sri Lanka">Sri Lanka</option>
                                                                            <option  value="St. Helena">St. Helena</option>
                                                                            <option  value="St. Pierre and Miquelon">St. Pierre and Miquelon</option>
                                                                            <option  value="Sudan">Sudan</option>
                                                                            <option  value="Suriname">Suriname</option>
                                                                            <option  value="Svalbard and Jan Mayen Islands">Svalbard and Jan Mayen Islands</option>
                                                                            <option  value="Swaziland">Swaziland</option>
                                                                            <option  value="Sweden">Sweden</option>
                                                                            <option  value="Switzerland">Switzerland</option>
                                                                            <option  value="Syrian Arab Republic">Syrian Arab Republic</option>
                                                                            <option  value="Taiwan">Taiwan</option>
                                                                            <option  value="Tajikistan">Tajikistan</option>
                                                                            <option  value="Tanzania, United Republic of">Tanzania, United Republic of</option>
                                                                            <option  value="Thailand">Thailand</option>
                                                                            <option  value="Togo">Togo</option>
                                                                            <option  value="Tokelau">Tokelau</option>
                                                                            <option  value="Tonga">Tonga</option>
                                                                            <option  value="Trinidad and Tobago">Trinidad and Tobago</option>
                                                                            <option  value="Tunisia">Tunisia</option>
                                                                            <option  value="Turkey">Turkey</option>
                                                                            <option  value="Turkmenistan">Turkmenistan</option>
                                                                            <option  value="Turks and Caicos Islands">Turks and Caicos Islands</option>
                                                                            <option  value="Tuvalu">Tuvalu</option>
                                                                            <option  value="Uganda">Uganda</option>
                                                                            <option  value="Ukraine">Ukraine</option>
                                                                            <option  value="United Arab Emirates">United Arab Emirates</option>
                                                                            <option  value="United Kingdom">United Kingdom</option>
                                                                            <option  value="United States">United States</option>
                                                                            <option  value="United States minor outlying islands">United States minor outlying islands</option>
                                                                            <option  value="Uruguay">Uruguay</option>
                                                                            <option  value="Uzbekistan">Uzbekistan</option>
                                                                            <option  value="Vanuatu">Vanuatu</option>
                                                                            <option  value="Vatican City State">Vatican City State</option>
                                                                            <option  value="Venezuela">Venezuela</option>
                                                                            <option  value="Vietnam">Vietnam</option>
                                                                            <option  value="Virgin Islands (British)">Virgin Islands (British)</option>
                                                                            <option  value="Virgin Islands (U.S.)">Virgin Islands (U.S.)</option>
                                                                            <option  value="Wallis and Futuna Islands">Wallis and Futuna Islands</option>
                                                                            <option  value="Western Sahara">Western Sahara</option>
                                                                            <option  value="Yemen">Yemen</option>
                                                                            <option  value="Zambia">Zambia</option>
                                                                            <option  value="Zimbabwe">Zimbabwe</option>
                                                                    </select>
                            </div>
                            <p class="alert alert-primary my-2 text-center" id="erroredit"></p>
                            <center>
                                <div class="text-center mb-3">
                                    <button type="submit" id="btnEdit" class="btn btn-md btn-primary">Save Details</button>
                                </div>
                            </center>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 col-md-12">
                <div class="card border border-1 border-primary">
                    <div class="card-body">
                        <h5 class="text-start">Change Password</h5>
                        <p class="text-start mt-1">Fill form to change your password </p>
                        <form class="" method="POST" enctype="multipart/form-data" id="passForm">
                            <div class="form-outline mb-4">
                                <i onclick="showpass('password', 'showpass')" id="showpass" style="cursor: pointer; right: 10px; top: 8px; position: absolute; z-index: 1000;">
                                    <span class="far fa-eye"></span>
                                </i>
                                <input type="password" name="password" id="password" class="form-control form-icon-trailing" placeholder="Password">
                                <label for="password" class="form-label">Password</label>
                            </div>
                            <div class="form-outline mb-4">
                                <i onclick="showpass('newpassword', 'showpass2')" id="showpass2" style="cursor: pointer; right: 10px; top: 8px; position: absolute; z-index: 1000;">
                                    <span class="far fa-eye"></span>
                                </i>
                                <input type="password" name="newpassword" id="newpassword" class="form-control form-icon-trailing" placeholder="New Password">
                                <label for="newpassword" class="form-label">New Password</label>
                            </div>
                            <div class="form-outline mb-4">
                                <i onclick="showpass('conpassword', 'showpass3')" id="showpass3" style="cursor: pointer; right: 10px; top: 8px; position: absolute; z-index: 1000;">
                                    <span class="far fa-eye"></span>
                                </i>
                                <input type="password" name="conpassword" id="conpassword" class="form-control form-icon-trailing" placeholder="Confirm Password">
                                <label for="conpassword" class="form-label">Confirm Password</label>
                            </div>
                            <p class="alert alert-primary py-3 text-center" id="errorpass"></p>
                            <div class="my-4" align="center">
                                <button type="submit" id="chgPass" class="btn btn-md btn-primary">Change Password</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6 mb-3">
                <div class="card border border-1 border-primary">
                    <div class="card-body">
                        <h5 class="text-center fw-bold">My referral list</h5>
                        <div class="table-wrapper table-responsive">
                            <table class="table align-middle hoverable table-striped table-hover" id="reftable">
                                <thead class="orange darken-2 white-text">
                                    <tr class="text-nowrap">
                                        <th scope="col">S/N</th>
                                        <th scope="col">Username</th>
                                        <th scope="col">Registered on</th>
                                        <th scope="col">Status</th>
                                    </tr>
                                </thead>
                                                                <tbody>
                                    <div class="text-center" align="center"><td class='text-center' colspan='4'>No data available to show</td>                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 col-md-12">
                <div class="card border border-1 border-primary">
                    <div class="card-body">
                        <h5 class="text-start">Account Info</h5>
                        <hr />
                        <p><span class="fw-bold">Account Type:</span> <span class="fas fa-dot-circle text-success"></span> <span id="account_type"></span></p>
                        <hr />
                        <p><span class="fw-bold">Account Status:</span> <span id="account_status"></span> <span class="fas fa-check-circle text-success"></span></p>
                        <hr />
                        <p><span class="fw-bold">Email verification:</span> <span id="email_verification"></span> <span class="fas fa-times-circle text-danger"></span> <a href="javascript:void(0)" onclick="resendMail(3423512)">resend</a></p>
                        <hr />
                        <p><span class="fw-bold">KYC status:</span> <span id="kyc_status"></span> <span class="fas fa-times-circle text-warning"></span></p>
                        <hr />
                        <p><span class="fw-bold">Level:</span> <span id="level"></span> <span class="fas fa-chart-pie text-info"></span></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
<!-- Modal -->
<div class="modal fade" id="swapModal" tabindex="-1" aria-labelledby="swapModal" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-md" role="document">
        <div class="modal-content text-center">
            <div class="modal-header justify-content-center">
                <h5 class=""><span class="fas fa-exchange"></span> Swap Balance</h5>
                <button type='button' class='btn-close' data-mdb-dismiss='modal' aria-label='Close'></button>
            </div>
            <div class="modal-body py-4 my-3">
                <p class="ps-4">Move funds from one account to another</p>
                <form class="container md-form" id="swap" enctype="multipart/form-data">
                    <div class="form-group" align="center">
                        <p class="alert alert-primary" id="errorshown"></p>
                    </div>
                    <p class="font-weight-bold">Total Balance: $0.00</p>
                    <div class="form-outline mb-3">
                        <i class="fas fa-dollar-sign trailing" style="font-size: 15px;"></i>
                        <input type="number" max="200000000" id="amount" name="amount" class="form-control form-icon-trailing">
                        <label for="amount" class="form-label">Amount to swap</label>
                    </div>
                    <div class="select-wrapper mb-3">
                        <select class="select" name="fromacc" id="fromacc" required="">
                            <option disabled selected>--Select from account--</option>
                            <option value="available">Trading Balance ($0.00)</option>
                            <option value="profit">Profit ($0.00)</option>
                            <option value="bonus">Bonus Balance ($0.00)</option>
                        </select>
                    </div>
                    <div class="select-wrapper mb-3">
                        <select class="select" name="toacc" id="toacc" required="">
                            <option disabled selected>--Select from account--</option>
                            <option value="available">Trading Balance ($0.00)</option>
                            <option value="profit">Profit ($0.00)</option>
                            <option value="bonus">Bonus Balance ($0.00)</option>
                        </select>
                    </div>
                    <center>
                        <div class="text-center mb-2">
                            <button type="submit" id="btnSwap" class="btn btn-md btn-primary">Swap</button>
                        </div>
                    </center>
                </form>
            </div>
        </div>
    </div>
</div>
<!-- Modal: process-->
<a class="floating mdark" id="switcher">
    <span id="sback" class="fas fa-moon"></span>
</a>
<footer class="mt-1 py-2 border-top" style="background: linear-gradient(179deg, #724fe5 6.25%);">
    <div class="pt-2 container px-3">
        <div class="text-center">
            <h6>&copy; 2015 - 2025 BitTrust</h6>
            <!-- <div class="text-center">
                <a href="./markets" class="active"><i class="fas fa-chart-bar"></i>
                </a>
            </div>
            <div class="text-center">
                <a href="./deposits" class="active"><i class="fas fa-clock"></i>
                </a>
            </div>
            <div class="text-center">
                <a href="./" class="active"><i class="fas fa-home"></i>
                </a>
            </div>
            <div class="text-center">
                <a href="./upgrade" class="active"><i class="fas fa-calendar-alt"></i>
                </a>
            </div>
            <div class="text-center">
                <a href="./account" class="active"><i class="fas fa-user"></i>
                </a>
            </div> -->
        </div>
    </div>
</footer>

<!-- Modal -->
<div class="modal fade" id="langmodal" tabindex="-1" aria-labelledby="langmodal" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-md" role="document">
        <div class="modal-content text-center">
            <div class="modal-header justify-content-center">
                <h3 class=""><span class="fas fa-exclamation-circle"></span> information</h3>
                <button type='button' class='btn-close' data-mdb-dismiss='modal' aria-label='Close'></button>
            </div>
            <div class="modal-body py-4 my-3">
                <div class="gtranslate_wrapper"></div>
                <div id="message">
                    <div class="mt-2">
                        <button type='button' class='btn btn-md btn-outline-danger' data-mdb-dismiss='modal' aria-label='Close'>Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Modal: process-->
</body>
<!--<div id="google_translate_element" style="z-index: 1500; position: fixed; bottom:16px; left:15px;"></div>-->
<!--<script type="text/javascript">-->
<!--  function googleTranslateElementInit() {-->
<!--    new google.translate.TranslateElement({pageLanguage: 'en', autoDisplay: false}, 'google_translate_element');-->
<!--  }-->
<!--</script>-->
<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
<script src="../../assets/js/mdb.min.js"></script>
<script src="../../assets/js/switchtheme.js"></script>
<script src="../../assets/js/jquery-redirect.js"></script>
<script src="../../assets/js/tiny-slider.js"></script>
<script src="../../assets/js/toastr.js"></script>
<script>
    window.gtranslateSettings = {
        "default_language": "en",
        "wrapper_selector": ".gtranslate_wrapper"
    }
</script>
<script src="https://cdn.gtranslate.net/widgets/v1.0.1/dropdown.js" defer></script>

<script>
    //Initialize it with JS to make it instantly visible
    const slimInstance = new mdb.Sidenav(document.getElementById('sidenav-1'));

    slimInstance.hide();

    const showpass = (pass, span) => {
        let password = document.getElementById(pass);
        if (password.type == 'password') {
            password.type = 'text';
            $('#' + span).html("<span class= 'fas fa-eye-slash'></span>");
        } else {
            password.type = 'password';
            $('#' + span).html("<span class= 'fas fa-eye'></span>");
        }
    }

    $("#switcher").click(function() {
        const ttt = localStorage.getItem('theme') === 'dark' ? 'light' : 'dark';
        setTheme(ttt);
    });

    if (localStorage.getItem("hidebal") == "shown" || !localStorage.getItem("hidebal")) {
        $('#showBal11').hide();
        $('#showBal13').hide();
        $('#showBal131').hide();
        $('#slashOnes').hide();
        $('#slashTwos').hide();
        $('#slashTwose').hide();
        $('#showBal21').hide();
        $('#showBal23').hide();
        $('#showBal25').hide();

        $('#showBal1').show();
        $('#showBal12').show();
        $('#slashOne').show();
        $('#slashTwo').show();
        $('#slashTwoe').show();
        $('#showBal2').show();
        $('#showBal22').show();
        $('#showBal24').show();
    } else {
        if (localStorage.getItem("hidebal") == "hidden") {
            $('#showBal11').show();
            $('#showBal13').show();
            $('#showBal131').show();
            $('#slashOne').show();
            $('#slashTwo').show();
            $('#slashTwoe').show();
            $('#showBal21').show();
            $('#showBal23').show();
            $('#showBal25').show();

            $('#showBal1').hide();
            $('#showBal12').hide();
            $('#showBal121').hide();
            $('#slashOnes').hide();
            $('#slashTwos').hide();
            $('#slashTwose').hide();
            $('#showBal2').hide();
            $('#showBal22').hide();
            $('#showBal24').hide();
        }
    }

    function hideBal() {
        localStorage.setItem("hidebal", "hidden");
        $('#showBal11').show();
        $('#showBal13').show();
        $('#showBal131').show();
        $('#slashOne').show();
        $('#slashTwo').show();
        $('#slashTwoe').show();
        $('#showBal21').show();
        $('#showBal23').show();
        $('#showBal25').show();

        $('#showBal1').hide();
        $('#showBal12').hide();
        $('#showBal121').hide();
        $('#slashOnes').hide();
        $('#slashTwos').hide();
        $('#slashTwose').hide();
        $('#showBal2').hide();
        $('#showBal22').hide();
        $('#showBal24').hide();
    }

    function showBal() {
        localStorage.setItem("hidebal", "shown");
        $('#showBal11').hide();
        $('#showBal13').hide();
        $('#showBal131').hide();
        $('#slashOne').hide();
        $('#slashTwo').hide();
        $('#slashTwoe').hide();
        $('#showBal21').hide();
        $('#showBal23').hide();
        $('#showBal25').hide();

        $('#showBal1').show();
        $('#showBal12').show();
        $('#showBal121').show();
        $('#slashOnes').show();
        $('#slashTwos').show();
        $('#slashTwose').show();
        $('#showBal2').show();
        $('#showBal22').show();
        $('#showBal24').show();
    }

    $('#switchBtn').click(() => {
        let request = "changeType";
        let accts = 'demo';
        $.ajax({
            url: '../../ops/users',
            type: 'POST',
            data: {
                request,
                'account': accts
            },
            success: function(data) {
                let response = $.parseJSON(data);
                if (response.status == "success") {
                    toastr.info(response.message);
                    setTimeout('window.location.href = "./demo";', 2000);
                } else {
                    toastr.info(response.message);
                }
            },
            cache: false,
            error: function() {
                toastr.info("An error has occured!!");
            }
        });
    });

    function redir(link, params) {
        $.redirect(link, params);
    }

    $(document).ready(function() {
        if (window.innerWidth <= 700) {
            slimInstance.hide();
            $("#sidenav-1").attr("data-mdb-mode", "over");
        } else if (window.innerWidth > 700) {
            slimInstance.show();
            $("#sidenav-1").attr("data-mdb-mode", "side");
            $("#sidenav-1").attr("data-mdb-close-on-esc", "false");
        }

    });

    window.addEventListener('resize', () => {
        // Toggle on mobile
        if (window.innerWidth <= 700) {
            slimInstance.hide();
            $("#sidenav-1").attr("data-mdb-mode", "over");
        } else if (window.innerWidth > 700) {
            slimInstance.show();
            $("#sidenav-1").attr("data-mdb-mode", "side");
            $("#sidenav-1").attr("data-mdb-close-on-esc", "false");
        }
    });
</script>
<!-- Smartsupp Live Chat script -->
<script type="text/javascript">
var _smartsupp = _smartsupp || {};
_smartsupp.key = 'd258f195df6b89c5a8613da0ea66c14d5227b899';
window.smartsupp||(function(d) {
  var s,c,o=smartsupp=function(){ o._.push(arguments)};o._=[];
  s=d.getElementsByTagName('script')[0];c=d.createElement('script');
  c.type='text/javascript';c.charset='utf-8';c.async=true;
  c.src='https://www.smartsuppchat.com/loader.js?';s.parentNode.insertBefore(c,s);
})(document);
</script>
<noscript> Powered by <a href=“https://elitestockoptions.com” target=“_blank”>BitTrust</a></noscript>
<!-- End Smartsupp Live Chat script -->

</html><script>
    $(document).ready(() => {
        $("#errorphoto").fadeOut();
        $("#errorpass").fadeOut();
        $("#erroredit").fadeOut();
        $("#errorshown").fadeOut();

        const photoInp = $("#photo");
        let file;

        photoInp.change(function(e) {
            file = this.files[0];
            if (file) {
                let reader = new FileReader();
                reader.onload = function(event) {
                    $("#imgPreview")
                        .attr("src", event.target.result);
                };
                reader.readAsDataURL(file);
            }
        });

            });

    $("#copy").click(function() {
        var text = document.getElementById("reflink");
        text.select();
        document.execCommand('copy');
        toastr.success('Referral Link copied');
    });

    const resetPhoto = () => {
        $("#imgPreview")
            .attr("src", '../../assets/images/user/3423512.jpg');
        $('#phoho').val('');
    }

    $("form#updatephoto").submit(function(e) {
        e.preventDefault();
        var formData = new FormData(this);
        var request = "uploadphoto";
        formData.append('request', request);
        $.ajax({
            url: '../../ops/users',
            type: 'POST',
            data: formData,
            beforeSend: function() {
                $("#errorphoto").html("Uploading image <span class='fas fa-spinner fa-pulse fa-fw'></span>").fadeIn();
            },
            success: function(data) {
                var response = $.parseJSON(data);
                if (response.status == 'success') {
                    $("#errorphoto").html(response.message).fadeIn();
                    setTimeout(function() {
                        location.reload();
                    }, 7000);
                } else {
                    $("#errorphoto").html(response.message).fadeIn();
                    setTimeout(function() {
                        $("#errorphoto").fadeOut();
                    }, 8000);
                }
            },
            cache: false,
            error: function(err) {
                $("#errorphoto").html(err.statusText).fadeIn();
                setTimeout(function() {
                    $("#errorphoto").fadeOut();
                }, 8000);
            },
            contentType: false,
            processData: false
        });
    });

    $("form#passForm").submit(function(e) {
        e.preventDefault();
        var formData = new FormData(this);
        var request = "changepassword";
        formData.append('request', request);
        $.ajax({
            url: '../../ops/users',
            type: 'POST',
            data: formData,
            beforeSend: function() {
                $("#errorpass").html("Saving new password <span class='far fa-spinner fa-pulse fa-fw'></span>").fadeIn();
            },
            success: function(data) {
                var response = $.parseJSON(data);
                if (response.status == 'success') {
                    $("#errorpass").html(response.message).fadeIn();
                    setTimeout(function() {
                        location.reload();
                    }, 7000);
                } else {
                    $("#errorpass").html(response.message).fadeIn();
                    setTimeout(function() {
                        $("#errorpass").fadeOut();
                    }, 8000);
                }
            },
            cache: false,
            error: function(err) {
                $("#errorpass").html(err.statusText).fadeIn();
                setTimeout(function() {
                    $("#errorpass").fadeOut();
                }, 8000);
            },
            contentType: false,
            processData: false
        });
    });

    $("form#editprofile").submit(function(e) {
        e.preventDefault();
        var formData = new FormData(this);
        var request = "editprofile";
        formData.append('request', request);
        $.ajax({
            url: '../../ops/users',
            type: 'POST',
            data: formData,
            beforeSend: function() {
                $("#erroredit").html("Saving changes <span class='fas fa-spinner fa-pulse fa-fw'></span>").fadeIn();
            },
            success: function(data) {
                var response = $.parseJSON(data);
                if (response.status == 'success') {
                    $("#erroredit").html(response.message).fadeIn();
                    setTimeout(function() {
                        location.reload();
                    }, 4000);
                } else {
                    $("#erroredit").html(response.message).fadeIn();
                    setTimeout(function() {
                        $("#erroredit").hide();
                    }, 8000);
                }
            },
            cache: false,
            error: function(err) {
                $("#erroredit").html(err.statusText).fadeIn();
                setTimeout(function() {
                    $("#erroredit").fadeOut();
                }, 8000);
            },
            contentType: false,
            processData: false
        });
    });

    $("form#swap").submit(function(e) {
        e.preventDefault();
        var formData = new FormData(this);
        var request = "swapbalance";
        formData.append('request', request);
        $.ajax({
            url: '../../ops/users',
            type: 'POST',
            data: formData,
            beforeSend: function() {
                $("#errorshown").html("Processing <span class='fas fa-spinner'></span>").fadeIn();
            },
            success: function(data) {
                var response = $.parseJSON(data);
                if (response.status == 'success') {
                    $("#errorshown").html(response.message).fadeIn();
                    setTimeout(function() {
                        location.reload();
                    }, 4000);
                } else {
                    $("#errorshown").html(response.message).fadeIn();
                    setTimeout(function() {
                        $("#errorshown").hide();
                    }, 8000);
                }
            },
            cache: false,
            error: function(err) {
                $("#errorshown").html(err.statusText).fadeIn();
                setTimeout(function() {
                    $("#errorshown").fadeOut();
                }, 8000);
            },
            contentType: false,
            processData: false
        });
    });

    const resendMail = function(mem_id) {
        let request = "resendMail";
        $.ajax({
            url: '../../ops/users',
            type: 'POST',
            data: {
                request,
                mem_id
            },
            beforeSend: function() {
                toastr.info("Processing <span class='fas fa-spinner'></span>").fadeIn();
            },
            success: function(data) {
                var response = $.parseJSON(data);
                if (response.status == 'success') {
                    toastr.info(response.message).fadeIn();
                    setTimeout(function() {
                        location.reload();
                    }, 4000);
                } else {
                    toastr.info(response.message).fadeIn();
                    setTimeout(function() {
                        $("#errorshown").hide();
                    }, 8000);
                }
            },
            error: function(err) {
                toastr.info(err.statusText).fadeIn();
                setTimeout(function() {
                    $("#errorshown").fadeOut();
                }, 8000);
            }
        });
    };
</script>
